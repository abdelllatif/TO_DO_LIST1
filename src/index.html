<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.0.7/css/boxicons.min.css" rel="stylesheet">
  <title>To-Do List</title>
</head>
<body class="bg-gray-300 flex flex-col min-h-screen">

  <!-- Navbar -->
  <nav class="bg-blue-600 shadow">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center text-white">
      <div class="flex items-center">
        <img src="img/read.png" alt="Logo" class="h-10 mr-3">
        <h1 class="text-xl font-bold">My To-Do List</h1>
      </div>
      <div class="space-x-4">
        <a href="index.html" class="font-bold hover:text-gray-200">Home</a>
        <a href="about.html" class="font-bold hover:text-gray-200">About</a>
        <a href="contact.html" class="font-bold hover:text-gray-200">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow">
    <!-- Title -->
    <div class="flex justify-center mt-10">
      <h1 class="text-3xl font-bold text-blue-600 mb-6">To-Do or Not To-Do: Let the Tasks Begin</h1>
      <img class="w-11 h-14 ml-4" src="img/do-not.png" alt="do or not!">
    </div>

    <!-- Search -->
    <div class="flex justify-center mt-8">
      <div class="relative w-72">
        <input type="text" placeholder="Search tasks..." class="w-full pl-10 p-2 rounded-lg border border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <i class="bx bx-search-alt-2 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"></i>
      </div>
    </div>
   
    <div class="flex justify-center mt-8">
      <button onclick="togglePopup()" class="bg-blue-600 text-white px-4 py-2 rounded-md">Add New Task</button>
    </div>

    <!-- Pop-up -->
    <div id="popup" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50">
      <div class="bg-white p-6 rounded-lg shadow-lg w-80">
        <h2 class="text-2xl font-bold mb-4 text-center text-blue-600">Task Details</h2>
        <input type="text" id="taskInput" placeholder="Add a new task" class="p-2 w-full rounded-md border border-gray-300 mb-2" />
        
        <div class="flex space-x-2 mb-2">
          <select id="prioritySelect" class="p-2 rounded-md flex-1 border border-gray-300">
            <option value="" disabled selected>Select Priority</option>
            <option value="P1">P1</option>
            <option value="P2">P2</option>
            <option value="P3">P3</option>
          </select>
          <input type="date" id="dueDateInput" class="p-2 rounded-md flex-1 border border-gray-300" />
        </div>

        <!-- Status Selector -->
        <select id="statusSelect" class="p-2 w-full rounded-md border border-gray-300 mb-2">
          <option value="todo">To Do</option>
          <option value="inProgress">In Progress</option>
          <option value="completed">Done</option>
        </select>
        
        <button onclick="addTask()" class="bg-blue-600 text-white w-full p-2 rounded-md mt-2">Save Task</button>
        <button onclick="togglePopup()" class="w-full p-2 rounded-md mt-2 text-gray-500">Cancel</button>
      </div>
    </div>

    <!-- To-Do Columns -->
    <div class="flex justify-center mt-8 space-x-4">
      <!-- To Do -->
      <div class="bg-blue-500 w-80 h-96 p-4 shadow-lg rounded-lg overflow-y-auto">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-2xl font-semibold text-white">To Do</h3>
          <img class="w-11 h-14" src="img/start.png" alt="">
        </div>
        <ul id="todoList" class="space-y-2"></ul>
      </div>

      <!-- In Progress -->
      <div class="bg-yellow-500 w-80 h-96 p-4 shadow-lg rounded-lg overflow-y-auto">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-2xl font-semibold text-white">In Progress</h3>
          <img class="w-11 h-14" src="img/progress.png" alt="">
        </div>
        <ul id="inProgressList" class="space-y-2"></ul>
      </div>

      <!-- Completed-->
      <div class="bg-green-500 w-80 h-96 p-4 shadow-lg rounded-lg overflow-y-auto">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-2xl font-semibold text-white">Completed</h3>
          <img class="w-11 h-14" src="img/done.png" alt="">
        </div>
        <ul id="completedList" class="space-y-2"></ul>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-blue-900 text-white text-center h-72 mt-40 py-6 text-2xl flex items-center">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-center space-x-4 mb-4">
        <a href="#" class="hover:text-gray-300"><i class="bx bxl-facebook-square text-2xl"></i></a>
        <a href="#" class="hover:text-gray-300"><i class="bx bxl-twitter text-2xl"></i></a>
        <a href="#" class="hover:text-gray-300"><i class="bx bxl-linkedin-square text-2xl"></i></a>
        <a href="#" class="hover:text-gray-300"><i class="bx bxl-instagram text-2xl"></i></a>
      </div>
      <div class="flex justify-center space-x-4 mb-4 text-2xl">
        <a href="#" class="hover:text-gray-300">Privacy Policy</a>
        <span>|</span>
        <a href="#" class="hover:text-gray-300">Terms of Service</a>
        <span>|</span>
        <a href="about.html" class="hover:text-gray-300">About Us</a>
      </div>
      <p class="text-2xl text-gray-400">Â© 2024 My To-Do List. All rights reserved.</p>
    </div>
  </footer>

  <script>
    let currentTaskItem = null; //status of task
  
    function togglePopup() {
      document.getElementById("popup").classList.toggle("hidden");
    }
  
    function addTask() {
      const taskInput = document.getElementById("taskInput").value;
      const prioritySelect = document.getElementById("prioritySelect").value;
      const dueDateInput = document.getElementById("dueDateInput").value;
      const statusSelect = document.getElementById("statusSelect").value;
  
      if (taskInput === "" || prioritySelect === "" || dueDateInput === "") {
        alert("Enter a task and select its priority and date!");
        return false;
      }
  
      if (currentTaskItem) {
        // modification
        currentTaskItem.querySelector("span").innerText = `${taskInput} - ${prioritySelect} - ${dueDateInput}`;
        moveTaskToList(currentTaskItem, statusSelect);
        currentTaskItem = null;
      } else {
        // new task
        const taskItem = document.createElement("li");
        taskItem.className = "bg-white p-2 rounded-md shadow-md flex justify-between items-center";
        taskItem.innerHTML = `
          <span>${taskInput} - ${prioritySelect} - ${dueDateInput}</span>
          <div class="space-x-2">
            <i class="bx bx-edit-alt cursor-pointer" onclick="editTask(this)" title="Edit Task"></i>
            <i class="bx bx-trash cursor-pointer text-red-600" onclick="removeTask(this)" title="Delete Task"></i>
          </div>
        `;
        moveTaskToList(taskItem, statusSelect);
      }
  
      // Reset inputs
      document.getElementById("taskInput").value = "";
      document.getElementById("prioritySelect").value = "";
      document.getElementById("dueDateInput").value = "";
      document.getElementById("statusSelect").value = "todo";
      togglePopup();
    }
  
    function editTask(icon) {
      currentTaskItem = icon.closest("li");
      const taskDetails = currentTaskItem.querySelector("span").innerText.split(" - ");
  
      // Fill information
      document.getElementById("taskInput").value = taskDetails[0];
      document.getElementById("prioritySelect").value = taskDetails[1];
      document.getElementById("dueDateInput").value = taskDetails[2];
  
      // Show popup
      togglePopup();
    }
  
    function removeTask(icon) {
      const taskItem = icon.closest("li");
      taskItem.remove();
    }
  
    function moveTaskToList(taskItem, status) {
      // Move task
      const lists = {
        todo: "todoList",
        inProgress: "inProgressList",
        completed: "completedList"
      };
      document.getElementById(lists[status]).appendChild(taskItem);
    }
    </script>
</body>
</html>
